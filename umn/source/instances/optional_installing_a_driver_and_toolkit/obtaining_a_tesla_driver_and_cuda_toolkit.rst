.. _en-us_topic_0213874991:

Obtaining a Tesla Driver and CUDA Toolkit
=========================================

Scenarios
---------

Before using a GPU-accelerated ECS, make sure that the desired Tesla driver and CUDA toolkit have been installed on the EIP. Otherwise, computing acceleration will not take effect. This section describes how to obtain a Tesla driver and CUDA toolkit. Select a driver version based on your ECS type.

For instructions about how to install the Tesla driver and CUDA toolkit, see :ref:`Installing a Tesla Driver and CUDA Toolkit on a GPU-accelerated ECS <en-us_topic_0149470468>`.

Downloading a Tesla Driver
--------------------------

`Download a driver <https://www.nvidia.com/Download/index.aspx?lang=en-us>`__ based on your ECS type.

.. table:: **Table 1** Mapping between Tesla drivers and ECS types

   ======== ====== ============== =======
   ECS Type Driver Product Series Product
   ======== ====== ============== =======
   P2s      Tesla  V              V100
   P2v      Tesla  V              V100
   P2       Tesla  V              V100
   P1       Tesla  P              P100
   PI2      Tesla  T              T4
   G6       Tesla  T              T4
   ======== ====== ============== =======

.. _en-us_topic_0213874991__section10203125783920:

Downloading a CUDA Toolkit
--------------------------

.. table:: **Table 2** Path in which the CUDA toolkit is downloaded for P2s ECSs

   +-------------+---------------------------------------+---------------------------------------------------------------------------------------------------------+---------------------------------------------+------------------+
   | ECS Type    | OS                                    | CUDA Version                                                                                            | How to Obtain                               | CPU Architecture |
   +=============+=======================================+=========================================================================================================+=============================================+==================+
   | P2s         | CentOS 7.4 64bit                      | 9.2 or later                                                                                            | Select a CUDA version as required.          | x86_64           |
   |             |                                       |                                                                                                         |                                             |                  |
   | (V100)      |                                       | If the kernel version is 3.10.0-957.5.1.e17.x86_64 or earlier, install the CUDA toolkit of version 9.2. | https://developer.nvidia.com/cuda-downloads |                  |
   +-------------+---------------------------------------+---------------------------------------------------------------------------------------------------------+---------------------------------------------+------------------+
   | P2s         | Ubuntu 16.04 64bit                    | 9.2 or later                                                                                            |                                             | x86_64           |
   |             |                                       |                                                                                                         |                                             |                  |
   | (V100)      |                                       | If the kernel version is 4.4.0-141-generic or earlier, install the CUDA toolkit of version 9.2.         |                                             |                  |
   +-------------+---------------------------------------+---------------------------------------------------------------------------------------------------------+---------------------------------------------+------------------+
   | P2s         | Windows Server 2016 Standard 64bit    | 9.2 or later                                                                                            |                                             | x86_64           |
   |             |                                       |                                                                                                         |                                             |                  |
   | (V100)      |                                       |                                                                                                         |                                             |                  |
   +-------------+---------------------------------------+---------------------------------------------------------------------------------------------------------+---------------------------------------------+------------------+
   | P2s         | Windows Server 2012 R2 Standard 64bit | 9.2 or later                                                                                            |                                             | x86_64           |
   |             |                                       |                                                                                                         |                                             |                  |
   | (V100)      |                                       |                                                                                                         |                                             |                  |
   +-------------+---------------------------------------+---------------------------------------------------------------------------------------------------------+---------------------------------------------+------------------+

.. table:: **Table 3** Path in which the CUDA toolkit is downloaded for P2v ECSs

   +-------------+---------------------------------------+---------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------+------------------+
   | ECS Type    | OS                                    | CUDA Version                                                                                            | How to Obtain                                                      | CPU Architecture |
   +=============+=======================================+=========================================================================================================+====================================================================+==================+
   | P2v         | CentOS 7.7 64bit                      | 9.2/10.1                                                                                                | Version 9.2: https://developer.nvidia.com/cuda-92-download-archive | x86_64           |
   |             |                                       |                                                                                                         |                                                                    |                  |
   | (V100)      |                                       | If the kernel version is 3.10.0-957.5.1.e17.x86_64 or earlier, install the CUDA toolkit of version 9.2. | Version 10.1:                                                      |                  |
   |             |                                       |                                                                                                         |                                                                    |                  |
   |             |                                       |                                                                                                         | https://developer.nvidia.com/cuda-10.1-download-archive-base       |                  |
   +-------------+---------------------------------------+---------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------+------------------+
   | P2v         | EulerOS 2.5 64bit                     | 9.2                                                                                                     |                                                                    | x86_64           |
   |             |                                       |                                                                                                         |                                                                    |                  |
   | (V100)      |                                       |                                                                                                         |                                                                    |                  |
   +-------------+---------------------------------------+---------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------+------------------+
   | P2v         | Ubuntu 16.04 64bit                    | 9.2/10.1                                                                                                |                                                                    | x86_64           |
   |             |                                       |                                                                                                         |                                                                    |                  |
   | (V100)      |                                       | If the kernel version is 4.4.0-141-generic or earlier, install the CUDA toolkit of version 9.2.         |                                                                    |                  |
   +-------------+---------------------------------------+---------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------+------------------+
   | P2v         | Windows Server 2019 Standard 64bit    | 9.2/10.1                                                                                                |                                                                    | x86_64           |
   |             |                                       |                                                                                                         |                                                                    |                  |
   | (V100)      |                                       |                                                                                                         |                                                                    |                  |
   +-------------+---------------------------------------+---------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------+------------------+
   | P2v         | Windows Server 2016 Standard 64bit    | 9.2/10.1                                                                                                |                                                                    | x86_64           |
   |             |                                       |                                                                                                         |                                                                    |                  |
   | (V100)      |                                       |                                                                                                         |                                                                    |                  |
   +-------------+---------------------------------------+---------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------+------------------+
   | P2v         | Windows Server 2012 R2 Standard 64bit | 9.2/10.1                                                                                                |                                                                    | x86_64           |
   |             |                                       |                                                                                                         |                                                                    |                  |
   | (V100)      |                                       |                                                                                                         |                                                                    |                  |
   +-------------+---------------------------------------+---------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------+------------------+

.. table:: **Table 4** Path in which the CUDA toolkit is downloaded for P2 ECSs

   +-------------+---------------------------+--------------+-------------------------------------------------------+------------------+
   | ECS Type    | OS                        | CUDA Version | How to Obtain                                         | CPU Architecture |
   +=============+===========================+==============+=======================================================+==================+
   | P2          | Ubuntu Server 16.04 64bit | 9            | https://developer.nvidia.com/cuda-90-download-archive | x86_64           |
   |             |                           |              |                                                       |                  |
   | (V100)      |                           |              |                                                       |                  |
   +-------------+---------------------------+--------------+-------------------------------------------------------+------------------+

.. table:: **Table 5** Path in which the CUDA toolkit is downloaded for P1 ECSs

   +-------------+---------------------------------------+--------------+-------------------------------------------------------+------------------+
   | ECS Type    | OS                                    | CUDA Version | How to Obtain                                         | CPU Architecture |
   +=============+=======================================+==============+=======================================================+==================+
   | P1          | CentOS 7.3 64bit                      | 9            | https://developer.nvidia.com/cuda-90-download-archive | x86_64           |
   |             |                                       |              |                                                       |                  |
   | (P100)      |                                       |              |                                                       |                  |
   +-------------+---------------------------------------+--------------+-------------------------------------------------------+------------------+
   | P1          | Ubuntu 16.04 64bit                    | 9            |                                                       | x86_64           |
   |             |                                       |              |                                                       |                  |
   | (P100)      |                                       |              |                                                       |                  |
   +-------------+---------------------------------------+--------------+-------------------------------------------------------+------------------+
   | P1          | Windows Server 2012 R2 Standard 64bit | 9            |                                                       | x86_64           |
   |             |                                       |              |                                                       |                  |
   | (P100)      |                                       |              |                                                       |                  |
   +-------------+---------------------------------------+--------------+-------------------------------------------------------+------------------+

.. table:: **Table 6** Path in which the CUDA toolkit is downloaded for PI2 ECSs

   +-------------+---------------------------------------+--------------+--------------------------------------------------------------+------------------+
   | ECS Type    | OS                                    | CUDA Version | How to Obtain                                                | CPU Architecture |
   +=============+=======================================+==============+==============================================================+==================+
   | PI2         | CentOS 7.8 64bit                      | 10.1         | https://developer.nvidia.com/cuda-10.1-download-archive-base | x86_64           |
   |             |                                       |              |                                                              |                  |
   | (T4)        |                                       |              |                                                              |                  |
   +-------------+---------------------------------------+--------------+--------------------------------------------------------------+------------------+
   | PI2         | Ubuntu 16.04 64bit                    | 10.1         |                                                              | x86_64           |
   |             |                                       |              |                                                              |                  |
   | (T4)        |                                       |              |                                                              |                  |
   +-------------+---------------------------------------+--------------+--------------------------------------------------------------+------------------+
   | PI2         | Windows Server 2019 Standard 64bit    | 10.1         |                                                              | x86_64           |
   |             |                                       |              |                                                              |                  |
   | (T4)        |                                       |              |                                                              |                  |
   +-------------+---------------------------------------+--------------+--------------------------------------------------------------+------------------+
   | PI2         | Windows Server 2016 Standard 64bit    | 10.1         |                                                              | x86_64           |
   |             |                                       |              |                                                              |                  |
   | (T4)        |                                       |              |                                                              |                  |
   +-------------+---------------------------------------+--------------+--------------------------------------------------------------+------------------+
   | PI2         | Windows Server 2012 R2 Standard 64bit | 10.1         |                                                              | x86_64           |
   |             |                                       |              |                                                              |                  |
   | (T4)        |                                       |              |                                                              |                  |
   +-------------+---------------------------------------+--------------+--------------------------------------------------------------+------------------+

.. table:: **Table 7** Path in which the CUDA toolkit is downloaded for G6 ECSs

   +-------------+------------------------------------+--------------+--------------------------------------------------------------+------------------+
   | ECS         | OS                                 | CUDA Version | How to Obtain                                                | CPU Architecture |
   |             |                                    |              |                                                              |                  |
   | Type        |                                    |              |                                                              |                  |
   +-------------+------------------------------------+--------------+--------------------------------------------------------------+------------------+
   | G6          | Windows Server 2016 Standard 64bit | 10.1         | https://developer.nvidia.com/cuda-10.1-download-archive-base | x86_64           |
   |             |                                    |              |                                                              |                  |
   | (T4)        |                                    |              |                                                              |                  |
   +-------------+------------------------------------+--------------+--------------------------------------------------------------+------------------+
